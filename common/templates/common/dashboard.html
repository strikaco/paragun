{% extends "base.html" %}
{% load static %}

{% block content %}

<a class="btn btn-primary btn-block" href="{% url 'token-create' %}">Generate</a>
<hr />

{% for object in object_list %}
<div class="card border-light mb-3">
  
  <div class="card-body">
    <div class="row">
      
      <div class="col-lg-12 col-sm-12">
        <h4 class="card-title"><a href="{% url 'token-detail' object.id %}">{{ object }}</a> <span class="inlinesparkline">{% for metric in object.statistics.hourly %}{{ metric.num_events }},{% empty %}0,0,0,0,0,0,0{% endfor %}</span></h4>
        <ul>
          <li>{{ object.expires|timeuntil }} left</li>
          <li>{% firstof object.notes 'No information provided.' %}</li>
          <li>{{ object.tag_list }}</li>
        </ul>
      </div>
      
    </div>
  </div>
</div>
{% empty %}
<div class="card border-light">
  <p class="lead p-3">No tokens found!</p>
</div>
{% endfor %}

<div class="row">
  
  <!-- left column -->
  <div class="col-lg-9 col-sm-12">
    <ul>
    
    </ul>
  </div>
  <!-- end left column -->
  
  <!-- right column -->
  <div class="col-lg-3 col-sm-12">
    
  </div>
  <!-- end right column -->
  
</div>

<hr />

{% endblock %}

{% block js %}
<script type="text/javascript" src="{% static 'js/jquery.sparkline.min.js' %}"></script>

<script type="text/javascript">
    $(function() {
        /** This code runs when everything has been loaded on the page */
        /* Inline sparklines take their values from the contents of the tag */
        $('.inlinesparkline').sparkline();
    });
        
</script>
{% endblock %}